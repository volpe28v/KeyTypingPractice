<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Çø„Ç§„Éî„É≥„Ç∞„Éû„Çπ„Çø„Éº</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="/src/styles.css">
</head>

<body>
    <div class="version-display">v1.0.1</div>
    
    <!-- „É≠„Ç∞„Ç§„É≥„É¢„Éº„ÉÄ„É´ -->
    <div id="login-modal" class="login-modal">
        <div class="login-modal-content">
            <div class="login-header">
                <h2>„Çø„Ç§„Éî„É≥„Ç∞„Éû„Çπ„Çø„Éº</h2>
                <p>Google„Ç¢„Ç´„Ç¶„É≥„Éà„Åß„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
            </div>
            <button id="google-sign-in-btn" class="google-sign-in-btn">
                <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google logo" class="google-logo">
                Google„Åß„Çµ„Ç§„É≥„Ç§„É≥
            </button>
        </div>
    </div>

    <div id="user-info" class="user-info"></div>

    <div class="main-container">
        <div class="game-container">
            <div class="typing-area">
                <button id="back-to-title-btn" class="back-to-title-btn">„É¨„ÉÉ„Çπ„É≥ÈÅ∏Êäû„Å´Êàª„Çã</button>
                <div class="word-display" id="word-display"></div>
                <div class="hidden-letters-container" id="hidden-letters-container">
                    <div class="hidden-letters" id="hidden-letters"></div>
                </div>
                <button id="replay-audio-btn" class="replay-audio-btn" onclick="replayCurrentWord()" title="Áô∫Èü≥„ÇíÂÜçÁîü">üîä</button>
                <div class="meaning" id="meaning"></div>
                <div class="timer-display" id="timer-display">00.00</div>
                <div class="input-area">
                    <input type="text" id="word-input" autocomplete="off" placeholder="" 
                           inputmode="none" style="ime-mode: disabled;" lang="en">
                </div>
                <div class="feedback" id="feedback"></div>
                <div class="progress">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </div>
            
            <!-- „É¨„ÉÉ„Çπ„É≥„É¢„Éº„ÉâÈÅ∏ÊäûÁîªÈù¢ -->
            <div class="lesson-mode-selection" id="lesson-mode-selection" style="display: none;">
                <div class="lesson-title-section">
                    <h2 id="selected-lesson-name">„É¨„ÉÉ„Çπ„É≥Âêç</h2>
                    <input type="text" id="lesson-name-edit-input" class="lesson-name-edit-input" style="display: none;" />
                </div>
                
                <div class="lesson-words-edit">
                    <div class="words-list-header">
                        <h3>ÂçòË™û„É™„Çπ„Éà</h3>
                        <button class="btn-delete-lesson edit-toggle" onclick="toggleWordsEdit()">Á∑®ÈõÜ</button>
                    </div>
                    <div id="words-display" class="words-display"></div>
                    <textarea id="words-edit-area" class="words-edit-area" style="display: none;" placeholder="ÂçòË™û, ÊÑèÂë≥„ÅÆÂΩ¢Âºè„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"></textarea>
                    <div id="words-edit-controls" class="words-edit-controls btn-group" style="display: none;">
                        <button class="mode-btn save-words-btn" onclick="saveWordsEdit()">‰øùÂ≠ò</button>
                    </div>
                </div>

                <div class="mode-selection">
                    <h3>Â≠¶Áøí„É¢„Éº„Éâ</h3>
                    <div class="mode-buttons">
                        <button class="mode-btn" data-mode="vocabulary-learning" onclick="startLessonWithMode('vocabulary-learning')">Lv0: ÂçòË™ûÂ≠¶Áøí</button>
                        <button class="mode-btn" data-mode="progressive" onclick="startLessonWithMode('progressive')">Lv1: ÂèçÂæ©Á∑¥Áøí</button>
                        <button class="mode-btn" data-mode="pronunciation-meaning" onclick="startLessonWithMode('pronunciation-meaning')">Lv2: Áô∫Èü≥ÔºãÊó•Êú¨Ë™û</button>
                        <button class="mode-btn" data-mode="pronunciation-only" onclick="startLessonWithMode('pronunciation-only')">Lv3: Áô∫Èü≥„ÅÆ„Åø</button>
                        <button class="mode-btn" data-mode="japanese-reading" onclick="startLessonWithMode('japanese-reading')">Lv4: Êó•Êú¨Ë™û„ÅÆ„Åø</button>
                        <button class="mode-btn" data-mode="pronunciation-blind" onclick="startLessonWithMode('pronunciation-blind')">Lv5: Áô∫Èü≥ÔºàÊñáÂ≠óÊï∞Èö†„ÅóÔºâ</button>
                    </div>
                </div>

                <!-- „É¨„ÉÉ„Çπ„É≥Âà•„É©„É≥„Ç≠„É≥„Ç∞Ë°®Á§∫„Ç®„É™„Ç¢ -->
                <div class="lesson-ranking-section" id="lesson-ranking-section" style="display: none;">
                    <h3>„É©„É≥„Ç≠„É≥„Ç∞</h3>
                    <div class="lesson-ranking-tabs" id="lesson-ranking-tabs">
                        <!-- Lv1-Lv5„ÅÆ„Çø„ÉñÔºàJS„ÅßÂãïÁöÑÁîüÊàêÔºâ -->
                    </div>
                    <div class="lesson-ranking-list" id="lesson-ranking-list">
                        <!-- „É©„É≥„Ç≠„É≥„Ç∞Ë°®Á§∫ÔºàJS„ÅßÂãïÁöÑÁîüÊàêÔºâ -->
                    </div>
                </div>

                <div class="lesson-mode-buttons btn-group">
                    <button id="lesson-delete-btn" class="btn-delete-lesson" onclick="deleteSelectedLesson()">ÂâäÈô§</button>
                </div>
            </div>

            <!-- „Ç´„Çπ„Çø„É†„É¨„ÉÉ„Çπ„É≥Ë®≠ÂÆöÁîªÈù¢ -->
            <div class="custom-lesson-setup" id="custom-lesson-setup">
                <h2>Êñ∞„Åó„ÅÑ„É¨„ÉÉ„Çπ„É≥„ÇíËøΩÂä†</h2>
                
                <div class="lesson-name-input">
                    <label for="lesson-name-input">„É¨„ÉÉ„Çπ„É≥ÂêçÔºà‰ªªÊÑèÔºâ:</label>
                    <input type="text" id="lesson-name-input" placeholder="‰æã: Âü∫Êú¨ÂçòË™û„ÄÅ„Éï„É´„Éº„ÉÑÂêç„Å™„Å©">
                </div>
                
                <textarea id="custom-words-input" placeholder="ÂçòË™û„Å®ÊÑèÂë≥„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ&#10;ÂΩ¢Âºè: ÂçòË™û, ÊÑèÂë≥&#10;‰æã:&#10;apple, „Çä„Çì„Åî&#10;banana, „Éê„Éä„Éä&#10;orange, „Ç™„É¨„É≥„Ç∏&#10;&#10;‚Äª„É¨„ÉÉ„Çπ„É≥„Å®„Åó„Å¶‰øùÂ≠ò„Åï„Çå„Åæ„Åô"></textarea>
                
                <div class="custom-lesson-buttons btn-group">
                    <button class="btn btn-success save-lesson-btn" onclick="saveNewLessonOnly()">‰øùÂ≠ò</button>
                    <button class="btn btn-secondary cancel-custom-btn" onclick="cancelCustomLesson()">„Ç≠„É£„É≥„Çª„É´</button>
                </div>
                
                <div class="mode-selection">
                    <h3>Â≠¶Áøí„É¢„Éº„Éâ</h3>
                    <div class="mode-buttons">
                        <button class="mode-btn" data-mode="vocabulary-learning" onclick="saveAndStartLesson('vocabulary-learning')">Lv0: ÂçòË™ûÂ≠¶Áøí</button>
                        <button class="mode-btn" data-mode="progressive" onclick="saveAndStartLesson('progressive')">Lv1: ÂèçÂæ©Á∑¥Áøí</button>
                        <button class="mode-btn" data-mode="pronunciation-meaning" onclick="saveAndStartLesson('pronunciation-meaning')">Lv2: Áô∫Èü≥ÔºãÊó•Êú¨Ë™û</button>
                        <button class="mode-btn" data-mode="pronunciation-only" onclick="saveAndStartLesson('pronunciation-only')">Lv3: Áô∫Èü≥„ÅÆ„Åø</button>
                        <button class="mode-btn" data-mode="japanese-reading" onclick="saveAndStartLesson('japanese-reading')">Lv4: Êó•Êú¨Ë™û„ÅÆ„Åø</button>
                        <button class="mode-btn" data-mode="pronunciation-blind" onclick="saveAndStartLesson('pronunciation-blind')">Lv5: Áô∫Èü≥ÔºàÊñáÂ≠óÊï∞Èö†„ÅóÔºâ</button>
                    </div>
                </div>
            </div>

            <div class="score-display" id="score-display"></div>
            
            <div class="keyboard-display-container">
                <div class="keyboard-display">
                    <div class="keyboard-row number-row">
                        <div class="key" data-key="1">1<span class="shift-char">!</span></div>
                        <div class="key" data-key="2">2</div>
                        <div class="key" data-key="3">3</div>
                        <div class="key" data-key="4">4</div>
                        <div class="key" data-key="5">5</div>
                        <div class="key" data-key="6">6</div>
                        <div class="key" data-key="7">7<span class="shift-char">'</span></div>
                        <div class="key" data-key="8">8</div>
                        <div class="key" data-key="9">9</div>
                        <div class="key" data-key="0">0</div>
                        <div class="key" data-key="-">-</div>
                    </div>
                    <div class="keyboard-row">
                        <div class="key" data-key="q">Q</div>
                        <div class="key" data-key="w">W</div>
                        <div class="key" data-key="e">E</div>
                        <div class="key" data-key="r">R</div>
                        <div class="key" data-key="t">T</div>
                        <div class="key" data-key="y">Y</div>
                        <div class="key" data-key="u">U</div>
                        <div class="key" data-key="i">I</div>
                        <div class="key" data-key="o">O</div>
                        <div class="key" data-key="p">P</div>
                    </div>
                    <div class="keyboard-row second-row">
                        <div class="key" data-key="a">A</div>
                        <div class="key" data-key="s">S</div>
                        <div class="key" data-key="d">D</div>
                        <div class="key" data-key="f">F</div>
                        <div class="key" data-key="g">G</div>
                        <div class="key" data-key="h">H</div>
                        <div class="key" data-key="j">J</div>
                        <div class="key" data-key="k">K</div>
                        <div class="key" data-key="l">L</div>
                    </div>
                    <div class="keyboard-row third-row">
                        <div class="key shift-key" data-key="shift">Shift</div>
                        <div class="key" data-key="z">Z</div>
                        <div class="key" data-key="x">X</div>
                        <div class="key" data-key="c">C</div>
                        <div class="key" data-key="v">V</div>
                        <div class="key" data-key="b">B</div>
                        <div class="key" data-key="n">N</div>
                        <div class="key" data-key="m">M</div>
                        <div class="key" data-key=",">,</div>
                        <div class="key" data-key=".">.</div>
                        <div class="key" data-key="/">/<span class="shift-char">?</span></div>
                    </div>
                    <div class="keyboard-row">
                        <div class="key space-key" data-key=" ">Space</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="records-sidebar">
            <div class="weekly-leaderboard" id="weekly-leaderboard">
                <h3 class="leaderboard-title">üèÜ ‰ªäÈÄ±„ÅÆ„É©„É≥„Ç≠„É≥„Ç∞</h3>
                <div id="leaderboard-list" class="leaderboard-list"></div>
                <div id="leaderboard-message" class="leaderboard-message"></div>
            </div>

            <h2>„É¨„ÉÉ„Çπ„É≥</h2>

            <!-- ÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Çã„É¨„Éô„É´Ë®òÈå≤„Åå„Åì„Åì„Å´ÂÖ•„Çä„Åæ„Åô -->
            
            <button onclick="clearRecords()" class="clear-records-btn">Ë®òÈå≤„Çí„ÇØ„É™„Ç¢</button>
        </div>
    </div>

    <!-- ÂÖ¨Èñã„É¨„ÉÉ„Çπ„É≥„Éñ„É©„Ç¶„Ç∂ -->
    <div class="public-lesson-browser" id="public-lesson-browser" style="display: none;">
        <h2>ÂÖ¨Èñã„É¨„ÉÉ„Çπ„É≥‰∏ÄË¶ß</h2>
        <div id="public-lesson-list" class="public-lesson-list">
            <!-- ÂãïÁöÑÁîüÊàê: „É¨„ÉÉ„Çπ„É≥„Ç´„Éº„Éâ + „ÅäÊ∞ó„Å´ÂÖ•„ÇäËøΩÂä†„Éú„Çø„É≥ -->
        </div>
        <div class="public-lesson-browser-buttons btn-group">
            <button class="btn btn-secondary" onclick="closePublicLessonBrowser()">Èñâ„Åò„Çã</button>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
